<!DOCTYPE html>
<html>
<head>
<style>
table, th, td{
  border: 1px solid black;

}


table {
    table-layout:fixed;
}
table td {
    width: 45px;
    overflow: hidden;
    text-overflow: ellipsis;
    font-weight: bold;
    text-align: center;
    font-size: 40px;
}

.one {
    color: blue;
}
.two {
    color: green;
}
.three {
    color: red;
}
.four {
    color: purple;
}
.five {
    color: maroon;
}
.six {
    color: turquoise;
}
.seven {
    color: black;
}
.eight {
    color: gray;
}

.cellButton {
  font-size: 30px;
  width: 45px;
  height: 50px;
  margin:0px 0px 0px 0px;
  align-content: center;
}
.zero {
  width: 45px;
  height: 45px;
}
</style>

</head>
<body>
<table id="myTable">

</table>
</body>
</html>
<script type="text/javascript">
  var n = 4;
  var myTable = document.getElementById("myTable");
  //var bombs = new Array(n).fill(new Array(n).fill(0));
  var bombs = new Array(n).fill(0).map(() => new Array(n).fill(0));
  console.log(bombs);
function initialize(n)
{
  for (var i = 0; i < n; i++) 
  {
    var tableRow = document.createElement("tr");
    tableRow.setAttribute("id", i);
    for (var j = 0; j < n; j++) 
    {
      var tableData = document.createElement("td");
      tableData.setAttribute("id", i+"."+j);
      //tableData.setAttribute("class",);
      tableData.innerHTML ='<div style = "align: center"><button type="button" class="cellButton" height:"40" width:"40" onclick="cellClicked('+i+','+j+')" >&nbsp</button></div>';
      tableRow.appendChild(tableData);
      tableData.style.align = "center";
    }
    myTable.appendChild(tableRow);
  }
}
function markAsFlag (row, column) {
    var flag = document.getElementById(row + "." + column);
    flag.innerHTML = "<img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAq1BMVEX////iGxuZmZlmZmb4+PiRkZHgAACcnJz40NCblJTmAQHiFhbiExNjY2PhCAhYWFheXl7519f75OT40dH+9vb87OzyrKzkMzPsfX3kLi7sg4P0ubm5ubns7OyNjY363Nz1wcHwoKDmTU3oYGDvlZXmRkb98PDxpqbuj4/rdnboWVnlOzvsgYF1dXXFxcWlpaXe3t6urq7R0dG9vb3pamrlQUHzs7PjJSXqbGwmy6XIAAAEBklEQVR4nO3c23qaQBSGYQyR0IgIiKjgBhCN22Zbzf1fWQGrcUOMxiGri+f/Tts48zoDydGSpPPqdnoLeVH+fXvm/+dWt1wzqrIsVw3jsZDG11rCW2cYT9TbEd9rTd6tVjji0z4wvqpFu6hydV8oGzfUWxLbiyEfVutSb0povcMjjA+xQ70poR0foVxdUG9KZN3asVA2qHclssM36fpBpN6VyDLPsFDC2wxhsZ5DaZHxLn2k3pTQnjN+H75Qb0pox9e0YJdUkjqHxOL96d3bv6e1Yv1Fk9bbOcVq7Zl6O3nUMTbHaMjFestsu32Uq0nyK/VO8qt80+uVb+6ot5Fft+WbpOILf9n5fPzIsvpmXU0yrUZOi5xuI9R9cZ9pW/Vl0BqEbV05TGuGg1a0NBviVvuqjfBeCfvXf5rlB63h2qVrWqV0XEXT1v/efIt86/oVv24rLGnK2zUr9pduqKWyDFcWNYHqw5Yj4Is92YewVNKVgfmNj7BNp9W8wLZbeqBhVM/xCd0VxgsqM+eixSxvPExwWRfyfGb8AbHyR4TpaoPl6JyftNXgLTmBb5xctjJeOI8H81C4XiwMTj8dlufOkqMTgttd+E8gHJkh/PeNhq7XP36pN+pLd3r1vTyFnEVi3z3Zwo1S0dvT1jgKHpwgGrvvYTN904u5l59VUZR2JPAkPxf+W0/b/trW9czfcPkgm8KMXwmpUlQIIYSQOgghhJA+CCGEkD4IIYSQPgghhJA+CCGEkD4IIYSQPgghhJA+CCGEkD4IIYSQPgghhJA+CCGEkD4IIYSQPgghhJA+CCGEkD4IIYSQPgghhJA+CCGEkD4IIYSQPggvFt7d5zt05uLEC62SQo3aS7xQst8UMfN1dmb2HHTJBJ8chJLkKdceYzp4qTl1A081rY+BYfbIMlXvIZqspzCdNdctF6Fku9+f3pXipmPPOj3uzW74D61hOmzq9HnmI5Sk0US5/K6m8wGHrnfBZCfLj6Yr5dRaeQljY7A6H7l+5FaTQP3OVEDLH88+HYuWnzDOjD5f+MOW3rRw7phXjTy0/VY7czxarsK4hjefHY/orGxHc+qrqeuogoaQNpzp8TeatzDJtnxnPgjb2vZlv5qFg0nk+Bmj+K7MVt3K/sPxE8Kfzhyvdl7lRRTG1d3tM1lQYZw/WN/W4grjF0/QjG9rkYVx6rtScGF8kPOiCwUGIf8g5B+E/IOQfxDyD0L+Qcg/CPkHIf8g5B+E/IOQfxDyD0L+Qcg/CPkHIf8g5B+E/IOQfxDyD0L+Qcg/CPkHIf8g5B+E/IOQfxDyD0L+Qcg/CPkHIf8g5B+E/IOQfxDyD0L+Qcg/CPkHIf8g5B+E/IOQfxDyD0L+Qcg/CP/f/gKqvYIX2AfpOQAAAABJRU5ErkJggg==' height='20' width='20' class='center'>";
};
function markAsBomb (row, column) {
    var bomb = document.getElementById(row + "." + column);
    bomb.innerHTML = "<div class = 'cellButton'> <img src='https://storage.googleapis.com/replit/images/1545220146051_48f373ca2fe75d80cde9b1235a088351.pn' width = '40px' height = '40px align = 'center'> </div>";
};
function showNumber (row, column, number) {
    var cell = document.getElementById(row + "." + column);
    var wordForm;

    if (number == 1) {
      wordForm = "one";
    } else if (number == 2) {
        wordForm = "two";
      }
      else if (number == 3) {
        wordForm = "three";
      }
      else if (number == 4) {
        wordForm = "four";
      }
      else if (number == 5) {
        wordForm = "five";
      }
      else if (number == 6) {
        wordForm = "six";
      }
      else if (number == 7) {
        wordForm = "seven";
      }
      else if (number == 8) {
        wordForm = "eight";
      }
      
      if (number >= 1) {
        cell.innerHTML = "<div class = " + wordForm + ">" + number + "</div>";
      } else {
        cell.innerHTML = "<div class = 'zero' > </div>";
      };
      

};
function placeBombs (bombs, rows, columns, bombCount) {
   //remember to exclude squares that already have bombs
   var bombRow;
   var bombColumn;
   console.log(bombs);
  for (var i = 0; i < bombCount; i++) {
    bombRow = Math.floor(Math.random() * n);
    bombColumn = Math.floor(Math.random() * n);
    bombs[bombRow][bombColumn] = 1;
    console.log(bombRow + " " + bombColumn + "\n");
    console.log(bombs);
  }
    console.log(bombs);
};

function cellClicked (row, column) {
  var i, j, k, l;
  if (bombs[row][column] == 1) 
  {
    displayBombs(bombs, n, n);

  } 
  else 
  {
    var bombCount = 0;
    for (i = row - 1; i <= row + 1 && i < n; i++) 
    {
      if (i >= 0) 
      {
        for (j = column - 1; j <= column + 1 && j < n; j++) 
        {
          if (j >= 0) 
          {
            if (bombs[i][j] == 1) 
            {
              bombCount++;
            };
          };   
        };
      };
    };
    showNumber(row, column, bombCount);
    bombs[row][column] = 2;
    if (bombCount == 0) 
    {
      for (k = row - 1; k <= row + 1 && k < n; k++) 
      {
        if (k >= 0 ) {
          for (l = column - 1; l <= column + 1 && l < n; l++) 
          {
            if (l >= 0 )
            {
              if(bombs[k][l] == 0)
                cellClicked(k, l);
            };
          };  
        };  
      };
    };
  };
};
  
function displayBombs (bombs, rows, columns) {
  console.log(bombs);
for (var i = 0; i < rows; i++) {
  for (var j = 0; j < columns; j++) {
    if (bombs[i][j] == 1) {
      markAsBomb(i, j);
      //console.log(i + " " + j + "\n");
      //console.log(i + j);
      //console.log("\n" + rows + " " +columns + "\n");
      //console.log("\n\n\n");
    };
  }
}

};

initialize(n);
//showNumber(2, 3, 1);
//showNumber(6, 5, 8);
//markAsFlag(0, 0);
placeBombs(bombs, n, n, n * 2);
//displayBombs(bombs, n, n);
</script>









